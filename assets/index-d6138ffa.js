(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const _ of o)if(_.type==="childList")for(const i of _.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const _={};return o.integrity&&(_.integrity=o.integrity),o.referrerPolicy&&(_.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?_.credentials="include":o.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function r(o){if(o.ep)return;o.ep=!0;const _=n(o);fetch(o.href,_)}})();var B,d,he,H,ee,ve,j,N={},me=[],He=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Q=Array.isArray;function T(e,t){for(var n in t)e[n]=t[n];return e}function ye(e){var t=e.parentNode;t&&t.removeChild(e)}function xe(e,t,n){var r,o,_,i={};for(_ in t)_=="key"?r=t[_]:_=="ref"?o=t[_]:i[_]=t[_];if(arguments.length>2&&(i.children=arguments.length>3?B.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(_ in e.defaultProps)i[_]===void 0&&(i[_]=e.defaultProps[_]);return F(e,i,r,o,null)}function F(e,t,n,r,o){var _={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++he,__i:-1,__u:0};return o==null&&d.vnode!=null&&d.vnode(_),_}function x(e){return e.children}function O(e,t){this.props=e,this.context=t}function C(e,t){if(t==null)return e.__?C(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?C(e):null}function ge(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ge(e)}}function te(e){(!e.__d&&(e.__d=!0)&&H.push(e)&&!q.__r++||ee!==d.debounceRendering)&&((ee=d.debounceRendering)||ve)(q)}function q(){var e,t,n,r,o,_,i,c,s;for(H.sort(j);e=H.shift();)e.__d&&(t=H.length,r=void 0,_=(o=(n=e).__v).__e,c=[],s=[],(i=n.__P)&&((r=T({},o)).__v=o.__v+1,X(i,r,o,n.__n,i.ownerSVGElement!==void 0,32&o.__u?[_]:null,c,_??C(o),!!(32&o.__u),s),r.__.__k[r.__i]=r,be(c,r,s),r.__e!=_&&ge(r)),H.length>t&&H.sort(j));q.__r=0}function $e(e,t,n,r,o,_,i,c,s,l,p){var a,h,u,y,b,g=r&&r.__k||me,v=t.length;for(n.__d=s,Se(n,t,g),s=n.__d,a=0;a<v;a++)(u=n.__k[a])!=null&&typeof u!="boolean"&&typeof u!="function"&&(h=u.__i===-1?N:g[u.__i]||N,u.__i=a,X(e,u,h,o,_,i,c,s,l,p),y=u.__e,u.ref&&h.ref!=u.ref&&(h.ref&&Y(h.ref,null,u),p.push(u.ref,u.__c||y,u)),b==null&&y!=null&&(b=y),65536&u.__u||h.__k===u.__k?s=ke(u,s,e):typeof u.type=="function"&&u.__d!==void 0?s=u.__d:y&&(s=y.nextSibling),u.__d=void 0,u.__u&=-196609);n.__d=s,n.__e=b}function Se(e,t,n){var r,o,_,i,c,s=t.length,l=n.length,p=l,a=0;for(e.__k=[],r=0;r<s;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?F(null,o,null,null,o):Q(o)?F(x,{children:o},null,null,null):o.__b>0?F(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,c=Ce(o,n,i=r+a,p),o.__i=c,_=null,c!==-1&&(p--,(_=n[c])&&(_.__u|=131072)),_==null||_.__v===null?(c==-1&&a--,typeof o.type!="function"&&(o.__u|=65536)):c!==i&&(c===i+1?a++:c>i?p>s-i?a+=c-i:a--:a=c<i&&c==i-1?c-i:0,c!==r+a&&(o.__u|=65536))):(_=n[r])&&_.key==null&&_.__e&&(_.__e==e.__d&&(e.__d=C(_)),R(_,_,!1),n[r]=null,p--);if(p)for(r=0;r<l;r++)(_=n[r])!=null&&!(131072&_.__u)&&(_.__e==e.__d&&(e.__d=C(_)),R(_,_))}function ke(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=ke(r[o],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function Ce(e,t,n,r){var o=e.key,_=e.type,i=n-1,c=n+1,s=t[n];if(s===null||s&&o==s.key&&_===s.type)return n;if(r>(s!=null&&!(131072&s.__u)?1:0))for(;i>=0||c<t.length;){if(i>=0){if((s=t[i])&&!(131072&s.__u)&&o==s.key&&_===s.type)return i;i--}if(c<t.length){if((s=t[c])&&!(131072&s.__u)&&o==s.key&&_===s.type)return c;c++}}return-1}function ne(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||He.test(t)?n:n+"px"}function M(e,t,n,r,o){var _;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ne(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ne(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")_=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+_]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,_?re:_e,_)):e.removeEventListener(t,_?re:_e,_);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function _e(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(d.event?d.event(e):e)}function re(e){return this.l[e.type+!0](d.event?d.event(e):e)}function X(e,t,n,r,o,_,i,c,s,l){var p,a,h,u,y,b,g,v,$,w,D,E,Z,L,V,k=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(s=!!(32&n.__u),_=[c=t.__e=n.__e]),(p=d.__b)&&p(t);e:if(typeof k=="function")try{if(v=t.props,$=(p=k.contextType)&&r[p.__c],w=p?$?$.props.value:p.__:r,n.__c?g=(a=t.__c=n.__c).__=a.__E:("prototype"in k&&k.prototype.render?t.__c=a=new k(v,w):(t.__c=a=new O(v,w),a.constructor=k,a.render=Ne),$&&$.sub(a),a.props=v,a.state||(a.state={}),a.context=w,a.__n=r,h=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),k.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=T({},a.__s)),T(a.__s,k.getDerivedStateFromProps(v,a.__s))),u=a.props,y=a.state,a.__v=t,h)k.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(k.getDerivedStateFromProps==null&&v!==u&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(v,w),!a.__e&&(a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(v,a.__s,w)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(a.props=v,a.state=a.__s,a.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(A){A&&(A.__=t)}),D=0;D<a._sb.length;D++)a.__h.push(a._sb[D]);a._sb=[],a.__h.length&&i.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(v,a.__s,w),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(u,y,b)})}if(a.context=w,a.props=v,a.__P=e,a.__e=!1,E=d.__r,Z=0,"prototype"in k&&k.prototype.render){for(a.state=a.__s,a.__d=!1,E&&E(t),p=a.render(a.props,a.state,a.context),L=0;L<a._sb.length;L++)a.__h.push(a._sb[L]);a._sb=[]}else do a.__d=!1,E&&E(t),p=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++Z<25);a.state=a.__s,a.getChildContext!=null&&(r=T(T({},r),a.getChildContext())),h||a.getSnapshotBeforeUpdate==null||(b=a.getSnapshotBeforeUpdate(u,y)),$e(e,Q(V=p!=null&&p.type===x&&p.key==null?p.props.children:p)?V:[V],t,n,r,o,_,i,c,s,l),a.base=t.__e,t.__u&=-161,a.__h.length&&i.push(a),g&&(a.__E=a.__=null)}catch(A){t.__v=null,s||_!=null?(t.__e=c,t.__u|=s?160:32,_[_.indexOf(c)]=null):(t.__e=n.__e,t.__k=n.__k),d.__e(A,t,n)}else _==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ee(n.__e,t,n,r,o,_,i,s,l);(p=d.diffed)&&p(t)}function be(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)Y(n[r],n[++r],n[++r]);d.__c&&d.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(_){_.call(o)})}catch(_){d.__e(_,o.__v)}})}function Ee(e,t,n,r,o,_,i,c,s){var l,p,a,h,u,y,b,g=n.props,v=t.props,$=t.type;if($==="svg"&&(o=!0),_!=null){for(l=0;l<_.length;l++)if((u=_[l])&&"setAttribute"in u==!!$&&($?u.localName===$:u.nodeType===3)){e=u,_[l]=null;break}}if(e==null){if($===null)return document.createTextNode(v);e=o?document.createElementNS("http://www.w3.org/2000/svg",$):document.createElement($,v.is&&v),_=null,c=!1}if($===null)g===v||c&&e.data===v||(e.data=v);else{if(_=_&&B.call(e.childNodes),g=n.props||N,!c&&_!=null)for(g={},l=0;l<e.attributes.length;l++)g[(u=e.attributes[l]).name]=u.value;for(l in g)u=g[l],l=="children"||(l=="dangerouslySetInnerHTML"?a=u:l==="key"||l in v||M(e,l,null,u,o));for(l in v)u=v[l],l=="children"?h=u:l=="dangerouslySetInnerHTML"?p=u:l=="value"?y=u:l=="checked"?b=u:l==="key"||c&&typeof u!="function"||g[l]===u||M(e,l,u,g[l],o);if(p)c||a&&(p.__html===a.__html||p.__html===e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(a&&(e.innerHTML=""),$e(e,Q(h)?h:[h],t,n,r,o&&$!=="foreignObject",_,i,_?_[0]:n.__k&&C(n,0),c,s),_!=null)for(l=_.length;l--;)_[l]!=null&&ye(_[l]);c||(l="value",y!==void 0&&(y!==e[l]||$==="progress"&&!y||$==="option"&&y!==g[l])&&M(e,l,y,g[l],!1),l="checked",b!==void 0&&b!==e[l]&&M(e,l,b,g[l],!1))}return e}function Y(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){d.__e(r,n)}}function R(e,t,n){var r,o;if(d.unmount&&d.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Y(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(_){d.__e(_,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&R(r[o],t,n||typeof e.type!="function");n||e.__e==null||ye(e.__e),e.__=e.__e=e.__d=void 0}function Ne(e,t,n){return this.constructor(e,n)}function De(e,t,n){var r,o,_,i;d.__&&d.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,_=[],i=[],X(t,e=(!r&&n||t).__k=xe(x,null,[e]),o||N,N,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?B.call(t.childNodes):null,_,!r&&n?n:o?o.__e:t.firstChild,r,i),be(_,e,i)}B=me.slice,d={__e:function(e,t,n,r){for(var o,_,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((_=o.constructor)&&_.getDerivedStateFromError!=null&&(o.setState(_.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(c){e=c}throw e}},he=0,O.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=T({},this.state),typeof e=="function"&&(e=e(T({},n),this.props)),e&&T(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),te(this))},O.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),te(this))},O.prototype.render=x,H=[],ve=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,j=function(e,t){return e.__v.__b-t.__v.__b},q.__r=0;var I,m,z,oe,G=0,we=[],U=[],ie=d.__b,ae=d.__r,le=d.diffed,ce=d.__c,se=d.unmount;function Te(e,t){d.__h&&d.__h(m,e,G||t),G=0;var n=m.__H||(m.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:U}),n.__[e]}function P(e){return G=1,Le(Pe,e)}function Le(e,t,n){var r=Te(I++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Pe(void 0,t),function(c){var s=r.__N?r.__N[0]:r.__[0],l=r.t(s,c);s!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=m,!m.u)){var o=function(c,s,l){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(h){return h.__c});if(p.every(function(h){return!h.__N}))return!_||_.call(this,c,s,l);var a=!1;return p.forEach(function(h){if(h.__N){var u=h.__[0];h.__=h.__N,h.__N=void 0,u!==h.__[0]&&(a=!0)}}),!(!a&&r.__c.props===c)&&(!_||_.call(this,c,s,l))};m.u=!0;var _=m.shouldComponentUpdate,i=m.componentWillUpdate;m.componentWillUpdate=function(c,s,l){if(this.__e){var p=_;_=void 0,o(c,s,l),_=p}i&&i.call(this,c,s,l)},m.shouldComponentUpdate=o}return r.__N||r.__}function Ae(e,t){var n=Te(I++,3);!d.__s&&Oe(n.__H,t)&&(n.__=e,n.i=t,m.__H.__h.push(n))}function Me(){for(var e;e=we.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(W),e.__H.__h.forEach(K),e.__H.__h=[]}catch(t){e.__H.__h=[],d.__e(t,e.__v)}}d.__b=function(e){m=null,ie&&ie(e)},d.__r=function(e){ae&&ae(e),I=0;var t=(m=e.__c).__H;t&&(z===m?(t.__h=[],m.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=U,n.__N=n.i=void 0})):(t.__h.forEach(W),t.__h.forEach(K),t.__h=[],I=0)),z=m},d.diffed=function(e){le&&le(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(we.push(t)!==1&&oe===d.requestAnimationFrame||((oe=d.requestAnimationFrame)||Fe)(Me)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==U&&(n.__=n.__V),n.i=void 0,n.__V=U})),z=m=null},d.__c=function(e,t){t.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(r){return!r.__||K(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],d.__e(r,n.__v)}}),ce&&ce(e,t)},d.unmount=function(e){se&&se(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{W(r)}catch(o){t=o}}),n.__H=void 0,t&&d.__e(t,n.__v))};var ue=typeof requestAnimationFrame=="function";function Fe(e){var t,n=function(){clearTimeout(r),ue&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);ue&&(t=requestAnimationFrame(n))}function W(e){var t=m,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),m=t}function K(e){var t=m;e.__c=e.__(),m=t}function Oe(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Pe(e,t){return typeof t=="function"?t(e):t}class J{constructor(t){this.patterns=t,this.remainingPatterns=[...t]}pop(){const t=Math.floor(Math.random()*this.remainingPatterns.length),n=this.remainingPatterns[t];return this.remainingPatterns.splice(t,1),n}push(t){this.remainingPatterns.push(t)}reset(){this.remainingPatterns=[...this.patterns]}}(e=>{function t(r){return new e(r).pop()}e.selectOne=t;function n(r,o){const _=new e(o);return[...Array(r)].map(i=>_.pop())}e.selectMany=n})(J||(J={}));const S=J;var Ue=0;function f(e,t,n,r,o,_){var i,c,s={};for(c in t)c=="ref"?i=t[c]:s[c]=t[c];var l={type:e,props:s,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ue,__i:-1,__u:0,__source:o,__self:_};if(typeof e=="function"&&(i=e.defaultProps))for(c in i)s[c]===void 0&&(s[c]=i[c]);return d.vnode&&d.vnode(l),l}const fe=(e,t)=>{const n=e===1?"/e":"/p",r=new S(["doom1","doom2","doom3","doom4",void 0,void 0,void 0,void 0]),o=[...Array(8)].map((l,p)=>({index:p,pronoun:`<${p+1}>`,doomTarget:r.pop()})),_=t==="marker"?["A","1","B","2","C","3","D","4"]:t==="compass"?["N","NE","E","SE","S","SW","W","NW"]:["北","北東","東","南東","南","南西","西","北西"],i=S.selectOne(_),c=_[(_.indexOf(i)+3+Math.floor(Math.random()*3))%_.length],s=(l,p,a)=>{const h=o.find(u=>u.doomTarget===l||u.doomTarget===l);return h&&h.index<e?p(h.pronoun):a??""};return[`
${n} 騎神トールダンは「至天の陣：死刻」の構え。<se.3> <wait.4>
${n} 騎神トールダンの「至天の陣：死刻」 <se.3> <wait.4>
${n} トールダン・邪眼配置 ${i}・${c} <se.4> <wait.3>
${s("doom1",l=>`/mk attack1 ${l}`)}
${s("doom2",l=>`/mk attack2 ${l}`)}
${s("doom3",l=>`/mk attack3 ${l}`)}
${s("doom4",l=>`/mk attack4 ${l} <wait.7>`,`${n} (死の宣告 デバフ付与) <wait.7>`)}
${n} 聖騎士ゲリックの「ヘヴィインパクト」 <se.3> <wait.2>
${n} ヴェズルフェルニルの「ツイスターダイブ」 <se.5> ヘヴィインパクト (2) <wait.2>
${n} ヘヴィインパクト (3) <se.3> <wait.2>
${n} ヘヴィインパクト (4) <se.3> <wait.4>
${n} 聖騎士シャリベルは「ヘヴンフレイム」を唱えた。 <se.5> <wait.5>
${n} 騎神トールダンの「竜の邪眼」 <se.4>
${n} 聖騎士グリノーの「フェイスアンムーブ」 <se.3> <wait.2>
${n} 聖騎士シャリベルの「ヘヴンフレイム」 <se.4>`.trim()]},We=()=>{const[e,t]=P(8),[n,r]=P("marker"),[o,_]=P("/e 次のマクロへ！ <se.7>"),[i,c]=P(fe(e,n));return f("form",{onSubmit:s=>s.preventDefault(),children:[f("p",{children:["練習人数:"," ",f("select",{value:e,onChange:s=>t(parseInt(s.currentTarget.value)),children:[f("option",{value:8,children:"8"}),f("option",{value:7,children:"7"}),f("option",{value:6,children:"6"}),f("option",{value:5,children:"5"}),f("option",{value:4,children:"4"}),f("option",{value:3,children:"3"}),f("option",{value:2,children:"2"}),f("option",{value:1,children:"1"})]}),f("br",{}),"方角の表記:"," ",f("select",{value:n,onChange:s=>r(s.currentTarget.value),children:[f("option",{value:"marker",children:"八方位マーカー"}),f("option",{value:"compass",children:"英頭文字"}),f("option",{value:"kanji",children:"漢字"})]}),f("br",{}),"マクロ継続通知:"," ",f("input",{value:o,autocomplete:"off",onChange:s=>_(s.currentTarget.value)}),f("br",{}),f("button",{onClick:()=>c(fe(e,n)),children:"生成"})]}),i.map(s=>f(x,{children:[f("textarea",{readonly:!0,rows:15,cols:80,children:s.replace(/\n\n+/g,`
`).trim()}),f("br",{})]}))]})},pe=(e,t)=>{const n=e===1?"/e":"/p",r=new S(["skywardLeap","spiralPierce1","spiralPierce2","cauterize",void 0,void 0,void 0,void 0]),o=[...Array(8)].map((i,c)=>({index:c,pronoun:`<${c+1}>`,primaryTarget:r.pop(),secondaryTarget:void 0}));S.selectOne(o.filter(i=>i.primaryTarget)).secondaryTarget="altarFlare",S.selectOne(o.filter(i=>!i.primaryTarget)).secondaryTarget="liquidHeaven",S.selectMany(2,o.filter(i=>!i.secondaryTarget)).forEach((i,c)=>i.secondaryTarget=c===0?"thunderStruck1":"thunderStruck2");const _=(i,c,s)=>{const l=o.find(p=>p.primaryTarget===i||p.secondaryTarget===i);return l&&l.index<e?c(l.pronoun):s??""};return[`${n} 騎神トールダンは「至天の陣：風槍」の構え。<se.3> <wait.4>
${n} 騎神トールダンの「至天の陣：風槍」 <se.3> <wait.6>
${_("skywardLeap",i=>`/mk circle ${i}`,`${n} (スカイワードリープ マーカー付与)`)}
${_("spiralPierce1",i=>`/mk bind1 ${i}`)}
${_("spiralPierce2",i=>`/mk bind2 ${i} <wait.5>`,`${n} (スパイラルピアス マーカー付与) <wait.5>`)}
${_("thunderStruck1",i=>`/mk stop1 ${i}`)}
${_("thunderStruck2",i=>`/mk stop2 ${i} <wait.2>`,`${n} (サンダーウィング デバフ付与) <wait.2>`)}
/mk off <circle>
/mk off <bind1>
/mk off <bind2>
${_("cauterize",i=>`/mk triangle ${i}`)}
${n} ヴェズルフェルニルの「ツイスターダイブ」 <se.5> <wait.6>
/mk off <triangle>
${n} 騎神トールダンの「レベレーション・アスカロンメルシー」 <se.4>
${t}`,`${_("liquidHeaven",i=>`/mk attack4 ${i}`)}
${_("altarFlare",i=>`/mk attack3 ${i}`)}
${n} ヘヴンリキッド (1), アルターフレア (1) <se.3> <wait.1>
${_("liquidHeaven",i=>`/mk attack3 ${i}`)}
${_("altarFlare",i=>`/mk attack2 ${i}`)}
${n} ヘヴンリキッド (2), アルターフレア (2) <se.3> <wait.1>
${_("liquidHeaven",i=>`/mk attack2 ${i}`)}
${_("altarFlare",i=>`/mk attack1 ${i}`)}
${n} ヘヴンリキッド (3), アルターフレア (3) <se.3> <wait.1>
${_("liquidHeaven",i=>`/mk attack1 ${i}`)}
${_("altarFlare",i=>`/mk off ${i}`)}
${n} ヘヴンリキッド (4), アルターフレア (4) <se.3> <wait.1>
${_("liquidHeaven",i=>`/mk off ${i}`)}
${n} ヘヴンリキッド (5) <se.3> <wait.1>
${n} 聖騎士グリノーの「エンプティディメンション」 <se.4>`]},qe=()=>{const[e,t]=P(8),[n,r]=P("/e 次のマクロへ！ <se.7>"),[o,_]=P(pe(e,n));return f("form",{onSubmit:i=>i.preventDefault(),children:[f("p",{children:["練習人数:"," ",f("select",{value:e,onChange:i=>t(parseInt(i.currentTarget.value)),children:[f("option",{value:8,children:"8"}),f("option",{value:7,children:"7"}),f("option",{value:6,children:"6"}),f("option",{value:5,children:"5"}),f("option",{value:4,children:"4"}),f("option",{value:3,children:"3"}),f("option",{value:2,children:"2"}),f("option",{value:1,children:"1"})]}),f("br",{}),"マクロ継続通知:"," ",f("input",{value:n,autocomplete:"off",onChange:i=>r(i.currentTarget.value)}),f("br",{}),f("button",{onClick:()=>_(pe(e,n)),children:"生成"})]}),o.map(i=>f(x,{children:[f("textarea",{readonly:!0,rows:15,cols:80,children:i.replace(/\n\n+/g,`
`).trim()}),f("br",{})]}))]})},Ie=()=>{const[e,t]=P((location.hash||"woth").replace(/^#/,""));return Ae(()=>{const n=r=>t((location.hash||"woth").replace(/^#/,""));return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)}),f(x,{children:[f("h1",{children:"絶竜詩戦争: 練習マクロガチャ"}),f("p",{children:["練習したいフェーズを選択してください。邂逅編 4 などに突入して使える、練習用マクロを生成します。",f("br",{}),"生成ボタンを押すたびにマクロ中のランダム要素が入れ替わります。"]}),f("select",{value:e,onChange:n=>t(n.currentTarget.value),children:[f("option",{value:"woth",children:"至天の陣：風槍"}),f("option",{value:"doth",children:"至天の陣：死刻"})]}),e==="woth"&&f(qe,{}),e==="doth"&&f(We,{})]})},de=document.getElementById("app");de&&De(f(Ie,{}),de);
