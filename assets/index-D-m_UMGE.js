(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const _ of o)if(_.type==="childList")for(const r of _.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const _={};return o.integrity&&(_.integrity=o.integrity),o.referrerPolicy&&(_.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?_.credentials="include":o.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function i(o){if(o.ep)return;o.ep=!0;const _=n(o);fetch(o.href,_)}})();var j,h,ge,S,re,$e,ke,we,Z,V,G,W={},q=[],Ae=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,z=Array.isArray;function T(t,e){for(var n in e)t[n]=e[n];return t}function ee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Fe(t,e,n){var i,o,_,r={};for(_ in e)_=="key"?i=e[_]:_=="ref"?o=e[_]:r[_]=e[_];if(arguments.length>2&&(r.children=arguments.length>3?j.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)r[_]===void 0&&(r[_]=t.defaultProps[_]);return E(t,r,i,o,null)}function E(t,e,n,i,o){var _={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++ge,__i:-1,__u:0};return o==null&&h.vnode!=null&&h.vnode(_),_}function H(t){return t.children}function O(t,e){this.props=t,this.context=e}function A(t,e){if(e==null)return t.__?A(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?A(t):null}function De(t){if(t.__P&&t.__d){var e=t.__v,n=e.__e,i=[],o=[],_=T({},e);_.__v=e.__v+1,h.vnode&&h.vnode(_),te(t.__P,_,e,t.__n,t.__P.namespaceURI,32&e.__u?[n]:null,i,n??A(e),!!(32&e.__u),o),_.__v=e.__v,_.__.__k[_.__i]=_,xe(i,_,o),e.__e=e.__=null,_.__e!=n&&be(_)}}function be(t){if((t=t.__)!=null&&t.__c!=null)return t.__e=t.__c.base=null,t.__k.some(function(e){if(e!=null&&e.__e!=null)return t.__e=t.__c.base=e.__e}),be(t)}function oe(t){(!t.__d&&(t.__d=!0)&&S.push(t)&&!I.__r++||re!=h.debounceRendering)&&((re=h.debounceRendering)||$e)(I)}function I(){for(var t,e=1;S.length;)S.length>e&&S.sort(ke),t=S.shift(),e=S.length,De(t);I.__r=0}function Te(t,e,n,i,o,_,r,c,s,a,f){var l,d,p,$,w,k,v,m=i&&i.__k||q,P=e.length;for(s=Le(n,e,m,s,P),l=0;l<P;l++)(p=n.__k[l])!=null&&(d=p.__i!=-1&&m[p.__i]||W,p.__i=l,k=te(t,p,d,o,_,r,c,s,a,f),$=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&ne(d.ref,null,p),f.push(p.ref,p.__c||$,p)),w==null&&$!=null&&(w=$),(v=!!(4&p.__u))||d.__k===p.__k?s=Pe(p,s,t,v):typeof p.type=="function"&&k!==void 0?s=k:$&&(s=$.nextSibling),p.__u&=-7);return n.__e=w,s}function Le(t,e,n,i,o){var _,r,c,s,a,f=n.length,l=f,d=0;for(t.__k=new Array(o),_=0;_<o;_++)(r=e[_])!=null&&typeof r!="boolean"&&typeof r!="function"?(typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?r=t.__k[_]=E(null,r,null,null,null):z(r)?r=t.__k[_]=E(H,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?r=t.__k[_]=E(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):t.__k[_]=r,s=_+d,r.__=t,r.__b=t.__b+1,c=null,(a=r.__i=Ee(r,n,s,l))!=-1&&(l--,(c=n[a])&&(c.__u|=2)),c==null||c.__v==null?(a==-1&&(o>f?d--:o<f&&d++),typeof r.type!="function"&&(r.__u|=4)):a!=s&&(a==s-1?d--:a==s+1?d++:(a>s?d--:d++,r.__u|=4))):t.__k[_]=null;if(l)for(_=0;_<f;_++)(c=n[_])!=null&&(2&c.__u)==0&&(c.__e==i&&(i=A(c)),Se(c,c));return i}function Pe(t,e,n,i){var o,_;if(typeof t.type=="function"){for(o=t.__k,_=0;o&&_<o.length;_++)o[_]&&(o[_].__=t,e=Pe(o[_],e,n,i));return e}t.__e!=e&&(i&&(e&&t.type&&!e.parentNode&&(e=A(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ee(t,e,n,i){var o,_,r,c=t.key,s=t.type,a=e[n],f=a!=null&&(2&a.__u)==0;if(a===null&&c==null||f&&c==a.key&&s==a.type)return n;if(i>(f?1:0)){for(o=n-1,_=n+1;o>=0||_<e.length;)if((a=e[r=o>=0?o--:_++])!=null&&(2&a.__u)==0&&c==a.key&&s==a.type)return r}return-1}function ie(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Ae.test(e)?n:n+"px"}function L(t,e,n,i,o){var _,r;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||ie(t.style,e,"");if(n)for(e in n)i&&n[e]==i[e]||ie(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")_=e!=(e=e.replace(we,"$1")),r=e.toLowerCase(),e=r in t||e=="onFocusOut"||e=="onFocusIn"?r.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?i?n.u=i.u:(n.u=Z,t.addEventListener(e,_?G:V,_)):t.removeEventListener(e,_?G:V,_);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function le(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Z++;else if(e.t<n.u)return;return n(h.event?h.event(e):e)}}}function te(t,e,n,i,o,_,r,c,s,a){var f,l,d,p,$,w,k,v,m,P,C,F,_e,D,R,b=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(s=!!(32&n.__u),_=[c=e.__e=n.__e]),(f=h.__b)&&f(e);e:if(typeof b=="function")try{if(v=e.props,m="prototype"in b&&b.prototype.render,P=(f=b.contextType)&&i[f.__c],C=f?P?P.props.value:f.__:i,n.__c?k=(l=e.__c=n.__c).__=l.__E:(m?e.__c=l=new b(v,C):(e.__c=l=new O(v,C),l.constructor=b,l.render=Ue),P&&P.sub(l),l.state||(l.state={}),l.__n=i,d=l.__d=!0,l.__h=[],l._sb=[]),m&&l.__s==null&&(l.__s=l.state),m&&b.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=T({},l.__s)),T(l.__s,b.getDerivedStateFromProps(v,l.__s))),p=l.props,$=l.state,l.__v=e,d)m&&b.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),m&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(m&&b.getDerivedStateFromProps==null&&v!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(v,C),e.__v==n.__v||!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(v,l.__s,C)===!1){e.__v!=n.__v&&(l.props=v,l.state=l.__s,l.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(N){N&&(N.__=e)}),q.push.apply(l.__h,l._sb),l._sb=[],l.__h.length&&r.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(v,l.__s,C),m&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,$,w)})}if(l.context=C,l.props=v,l.__P=t,l.__e=!1,F=h.__r,_e=0,m)l.state=l.__s,l.__d=!1,F&&F(e),f=l.render(l.props,l.state,l.context),q.push.apply(l.__h,l._sb),l._sb=[];else do l.__d=!1,F&&F(e),f=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++_e<25);l.state=l.__s,l.getChildContext!=null&&(i=T(T({},i),l.getChildContext())),m&&!d&&l.getSnapshotBeforeUpdate!=null&&(w=l.getSnapshotBeforeUpdate(p,$)),D=f!=null&&f.type===H&&f.key==null?Ce(f.props.children):f,c=Te(t,z(D)?D:[D],e,n,i,o,_,r,c,s,a),l.base=e.__e,e.__u&=-161,l.__h.length&&r.push(l),k&&(l.__E=l.__=null)}catch(N){if(e.__v=null,s||_!=null)if(N.then){for(e.__u|=s?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;_[_.indexOf(c)]=null,e.__e=c}else{for(R=_.length;R--;)ee(_[R]);J(e)}else e.__e=n.__e,e.__k=n.__k,N.then||J(e);h.__e(N,e,n)}else _==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):c=e.__e=Oe(n.__e,e,n,i,o,_,r,s,a);return(f=h.diffed)&&f(e),128&e.__u?void 0:c}function J(t){t&&(t.__c&&(t.__c.__e=!0),t.__k&&t.__k.some(J))}function xe(t,e,n){for(var i=0;i<n.length;i++)ne(n[i],n[++i],n[++i]);h.__c&&h.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(_){_.call(o)})}catch(_){h.__e(_,o.__v)}})}function Ce(t){return typeof t!="object"||t==null||t.__b>0?t:z(t)?t.map(Ce):T({},t)}function Oe(t,e,n,i,o,_,r,c,s){var a,f,l,d,p,$,w,k=n.props||W,v=e.props,m=e.type;if(m=="svg"?o="http://www.w3.org/2000/svg":m=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),_!=null){for(a=0;a<_.length;a++)if((p=_[a])&&"setAttribute"in p==!!m&&(m?p.localName==m:p.nodeType==3)){t=p,_[a]=null;break}}if(t==null){if(m==null)return document.createTextNode(v);t=document.createElementNS(o,m,v.is&&v),c&&(h.__m&&h.__m(e,_),c=!1),_=null}if(m==null)k===v||c&&t.data==v||(t.data=v);else{if(_=_&&j.call(t.childNodes),!c&&_!=null)for(k={},a=0;a<t.attributes.length;a++)k[(p=t.attributes[a]).name]=p.value;for(a in k)p=k[a],a=="dangerouslySetInnerHTML"?l=p:a=="children"||a in v||a=="value"&&"defaultValue"in v||a=="checked"&&"defaultChecked"in v||L(t,a,null,p,o);for(a in v)p=v[a],a=="children"?d=p:a=="dangerouslySetInnerHTML"?f=p:a=="value"?$=p:a=="checked"?w=p:c&&typeof p!="function"||k[a]===p||L(t,a,p,k[a],o);if(f)c||l&&(f.__html==l.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(l&&(t.innerHTML=""),Te(e.type=="template"?t.content:t,z(d)?d:[d],e,n,i,m=="foreignObject"?"http://www.w3.org/1999/xhtml":o,_,r,_?_[0]:n.__k&&A(n,0),c,s),_!=null)for(a=_.length;a--;)ee(_[a]);c||(a="value",m=="progress"&&$==null?t.removeAttribute("value"):$!=null&&($!==t[a]||m=="progress"&&!$||m=="option"&&$!=k[a])&&L(t,a,$,k[a],o),a="checked",w!=null&&w!=t[a]&&L(t,a,w,k[a],o))}return t}function ne(t,e,n){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(o){h.__e(o,n)}}function Se(t,e,n){var i,o;if(h.unmount&&h.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||ne(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(_){h.__e(_,e)}i.base=i.__P=null}if(i=t.__k)for(o=0;o<i.length;o++)i[o]&&Se(i[o],e,n||typeof t.type!="function");n||ee(t.__e),t.__c=t.__=t.__e=void 0}function Ue(t,e,n){return this.constructor(t,n)}function We(t,e,n){var i,o,_,r;e==document&&(e=document.documentElement),h.__&&h.__(t,e),o=(i=!1)?null:e.__k,_=[],r=[],te(e,t=e.__k=Fe(H,null,[t]),o||W,W,e.namespaceURI,o?null:e.firstChild?j.call(e.childNodes):null,_,o?o.__e:e.firstChild,i,r),xe(_,t,r)}j=q.slice,h={__e:function(t,e,n,i){for(var o,_,r;e=e.__;)if((o=e.__c)&&!o.__)try{if((_=o.constructor)&&_.getDerivedStateFromError!=null&&(o.setState(_.getDerivedStateFromError(t)),r=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,i||{}),r=o.__d),r)return o.__E=o}catch(c){t=c}throw t}},ge=0,O.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=T({},this.state),typeof t=="function"&&(t=t(T({},n),this.props)),t&&T(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),oe(this))},O.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oe(this))},O.prototype.render=H,S=[],$e=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ke=function(t,e){return t.__v.__b-e.__v.__b},I.__r=0,we=/(PointerCapture)$|Capture$/i,Z=0,V=le(!1),G=le(!0);var qe=0;function u(t,e,n,i,o,_){e||(e={});var r,c,s=e;if("ref"in s)for(c in s={},e)c=="ref"?r=e[c]:s[c]=e[c];var a={type:t,props:s,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--qe,__i:-1,__u:0,__source:o,__self:_};if(typeof t=="function"&&(r=t.defaultProps))for(c in r)s[c]===void 0&&(s[c]=r[c]);return h.vnode&&h.vnode(a),a}var B,y,K,ae,Q=0,He=[],g=h,ce=g.__b,se=g.__r,ue=g.diffed,pe=g.__c,fe=g.unmount,de=g.__;function Ne(t,e){g.__h&&g.__h(y,t,Q||e),Q=0;var n=y.__H||(y.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function x(t){return Q=1,Ie(Me,t)}function Ie(t,e,n){var i=Ne(B++,2);if(i.t=t,!i.__c&&(i.__=[Me(void 0,e),function(c){var s=i.__N?i.__N[0]:i.__[0],a=i.t(s,c);s!==a&&(i.__N=[a,i.__[1]],i.__c.setState({}))}],i.__c=y,!y.__f)){var o=function(c,s,a){if(!i.__c.__H)return!0;var f=i.__c.__H.__.filter(function(d){return d.__c});if(f.every(function(d){return!d.__N}))return!_||_.call(this,c,s,a);var l=i.__c.props!==c;return f.some(function(d){if(d.__N){var p=d.__[0];d.__=d.__N,d.__N=void 0,p!==d.__[0]&&(l=!0)}}),_&&_.call(this,c,s,a)||l};y.__f=!0;var _=y.shouldComponentUpdate,r=y.componentWillUpdate;y.componentWillUpdate=function(c,s,a){if(this.__e){var f=_;_=void 0,o(c,s,a),_=f}r&&r.call(this,c,s,a)},y.shouldComponentUpdate=o}return i.__N||i.__}function Be(t,e){var n=Ne(B++,3);!g.__s&&Re(n.__H,e)&&(n.__=t,n.u=e,y.__H.__h.push(n))}function je(){for(var t;t=He.shift();){var e=t.__H;if(t.__P&&e)try{e.__h.some(U),e.__h.some(X),e.__h=[]}catch(n){e.__h=[],g.__e(n,t.__v)}}}g.__b=function(t){y=null,ce&&ce(t)},g.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),de&&de(t,e)},g.__r=function(t){se&&se(t),B=0;var e=(y=t.__c).__H;e&&(K===y?(e.__h=[],y.__h=[],e.__.some(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.some(U),e.__h.some(X),e.__h=[],B=0)),K=y},g.diffed=function(t){ue&&ue(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(He.push(e)!==1&&ae===g.requestAnimationFrame||((ae=g.requestAnimationFrame)||ze)(je)),e.__H.__.some(function(n){n.u&&(n.__H=n.u),n.u=void 0})),K=y=null},g.__c=function(t,e){e.some(function(n){try{n.__h.some(U),n.__h=n.__h.filter(function(i){return!i.__||X(i)})}catch(i){e.some(function(o){o.__h&&(o.__h=[])}),e=[],g.__e(i,n.__v)}}),pe&&pe(t,e)},g.unmount=function(t){fe&&fe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.some(function(i){try{U(i)}catch(o){e=o}}),n.__H=void 0,e&&g.__e(e,n.__v))};var he=typeof requestAnimationFrame=="function";function ze(t){var e,n=function(){clearTimeout(i),he&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,35);he&&(e=requestAnimationFrame(n))}function U(t){var e=y,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),y=e}function X(t){var e=y;t.__c=t.__(),y=e}function Re(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function Me(t,e){return typeof e=="function"?e(t):e}class Y{constructor(e){this.patterns=e,this.remainingPatterns=[...e]}pop(){const e=Math.floor(Math.random()*this.remainingPatterns.length),n=this.remainingPatterns[e];return this.remainingPatterns.splice(e,1),n}push(e){this.remainingPatterns.push(e)}reset(){this.remainingPatterns=[...this.patterns]}}(t=>{function e(i){return new t(i).pop()}t.selectOne=e;function n(i,o){const _=new t(o);return[...Array(i)].map(r=>_.pop())}t.selectMany=n})(Y||(Y={}));const M=Y,me=(t,e)=>{const n=t===1?"/e":"/p",i=new M(["doom1","doom2","doom3","doom4",void 0,void 0,void 0,void 0]),o=[...Array(8)].map((a,f)=>({index:f,pronoun:`<${f+1}>`,doomTarget:i.pop()})),_=e==="marker"?["A","1","B","2","C","3","D","4"]:e==="compass"?["N","NE","E","SE","S","SW","W","NW"]:["北","北東","東","南東","南","南西","西","北西"],r=M.selectOne(_),c=_[(_.indexOf(r)+3+Math.floor(Math.random()*3))%_.length],s=(a,f,l)=>{const d=o.find(p=>p.doomTarget===a||p.doomTarget===a);return d&&d.index<t?f(d.pronoun):l??""};return[`
${n} 騎神トールダンは「至天の陣：死刻」の構え。<se.3> <wait.4>
${n} 騎神トールダンの「至天の陣：死刻」 <se.3> <wait.4>
${n} トールダン・邪眼配置 ${r}・${c} <se.4> <wait.3>
${s("doom1",a=>`/mk attack1 ${a}`)}
${s("doom2",a=>`/mk attack2 ${a}`)}
${s("doom3",a=>`/mk attack3 ${a}`)}
${s("doom4",a=>`/mk attack4 ${a} <wait.7>`,`${n} (死の宣告 デバフ付与) <wait.7>`)}
${n} 聖騎士ゲリックの「ヘヴィインパクト」 <se.3> <wait.2>
${n} ヴェズルフェルニルの「ツイスターダイブ」 <se.5> ヘヴィインパクト (2) <wait.2>
${n} ヘヴィインパクト (3) <se.3> <wait.2>
${n} ヘヴィインパクト (4) <se.3> <wait.4>
${n} 聖騎士シャリベルは「ヘヴンフレイム」を唱えた。 <se.5> <wait.5>
${n} 騎神トールダンの「竜の邪眼」 <se.4>
${n} 聖騎士グリノーの「フェイスアンムーブ」 <se.3> <wait.2>
${n} 聖騎士シャリベルの「ヘヴンフレイム」 <se.4>`.trim()]},Ke=()=>{const[t,e]=x(8),[n,i]=x("marker"),[o,_]=x("/e 次のマクロへ！ <se.7>"),[r,c]=x(me(t,n));return u("form",{onSubmit:s=>s.preventDefault(),children:[u("p",{children:["練習人数:"," ",u("select",{value:t,onChange:s=>e(parseInt(s.currentTarget.value)),children:[u("option",{value:8,children:"8"}),u("option",{value:7,children:"7"}),u("option",{value:6,children:"6"}),u("option",{value:5,children:"5"}),u("option",{value:4,children:"4"}),u("option",{value:3,children:"3"}),u("option",{value:2,children:"2"}),u("option",{value:1,children:"1"})]}),u("br",{}),"方角の表記:"," ",u("select",{value:n,onChange:s=>i(s.currentTarget.value),children:[u("option",{value:"marker",children:"八方位マーカー"}),u("option",{value:"compass",children:"英頭文字"}),u("option",{value:"kanji",children:"漢字"})]}),u("br",{}),"マクロ継続通知:"," ",u("input",{value:o,autocomplete:"off",onChange:s=>_(s.currentTarget.value)}),u("br",{}),u("button",{onClick:()=>c(me(t,n)),children:"生成"})]}),r.map(s=>u(H,{children:[u("textarea",{readonly:!0,rows:15,cols:80,children:s.replace(/\n\n+/g,`
`).trim()}),u("br",{})]}))]})},ve=(t,e)=>{const n=t===1?"/e":"/p",i=new M(["skywardLeap","spiralPierce1","spiralPierce2","cauterize",void 0,void 0,void 0,void 0]),o=[...Array(8)].map((r,c)=>({index:c,pronoun:`<${c+1}>`,primaryTarget:i.pop(),secondaryTarget:void 0}));M.selectOne(o.filter(r=>r.primaryTarget)).secondaryTarget="altarFlare",M.selectOne(o.filter(r=>!r.primaryTarget)).secondaryTarget="liquidHeaven",M.selectMany(2,o.filter(r=>!r.secondaryTarget)).forEach((r,c)=>r.secondaryTarget=c===0?"thunderStruck1":"thunderStruck2");const _=(r,c,s)=>{const a=o.find(f=>f.primaryTarget===r||f.secondaryTarget===r);return a&&a.index<t?c(a.pronoun):s??""};return[`${n} 騎神トールダンは「至天の陣：風槍」の構え。<se.3> <wait.4>
${n} 騎神トールダンの「至天の陣：風槍」 <se.3> <wait.6>
${_("skywardLeap",r=>`/mk circle ${r}`,`${n} (スカイワードリープ マーカー付与)`)}
${_("spiralPierce1",r=>`/mk bind1 ${r}`)}
${_("spiralPierce2",r=>`/mk bind2 ${r} <wait.5>`,`${n} (スパイラルピアス マーカー付与) <wait.5>`)}
${_("thunderStruck1",r=>`/mk stop1 ${r}`)}
${_("thunderStruck2",r=>`/mk stop2 ${r} <wait.2>`,`${n} (サンダーウィング デバフ付与) <wait.2>`)}
/mk off <circle>
/mk off <bind1>
/mk off <bind2>
${_("cauterize",r=>`/mk triangle ${r}`)}
${n} ヴェズルフェルニルの「ツイスターダイブ」 <se.5> <wait.6>
/mk off <triangle>
${n} 騎神トールダンの「レベレーション・アスカロンメルシー」 <se.4>
${e}`,`${_("liquidHeaven",r=>`/mk attack4 ${r}`)}
${_("altarFlare",r=>`/mk attack3 ${r}`)}
${n} ヘヴンリキッド (1), アルターフレア (1) <se.3> <wait.1>
${_("liquidHeaven",r=>`/mk attack3 ${r}`)}
${_("altarFlare",r=>`/mk attack2 ${r}`)}
${n} ヘヴンリキッド (2), アルターフレア (2) <se.3> <wait.1>
${_("liquidHeaven",r=>`/mk attack2 ${r}`)}
${_("altarFlare",r=>`/mk attack1 ${r}`)}
${n} ヘヴンリキッド (3), アルターフレア (3) <se.3> <wait.1>
${_("liquidHeaven",r=>`/mk attack1 ${r}`)}
${_("altarFlare",r=>`/mk off ${r}`)}
${n} ヘヴンリキッド (4), アルターフレア (4) <se.3> <wait.1>
${_("liquidHeaven",r=>`/mk off ${r}`)}
${n} ヘヴンリキッド (5) <se.3> <wait.1>
${n} 聖騎士グリノーの「エンプティディメンション」 <se.4>`]},Ve=()=>{const[t,e]=x(8),[n,i]=x("/e 次のマクロへ！ <se.7>"),[o,_]=x(ve(t,n));return u("form",{onSubmit:r=>r.preventDefault(),children:[u("p",{children:["練習人数:"," ",u("select",{value:t,onChange:r=>e(parseInt(r.currentTarget.value)),children:[u("option",{value:8,children:"8"}),u("option",{value:7,children:"7"}),u("option",{value:6,children:"6"}),u("option",{value:5,children:"5"}),u("option",{value:4,children:"4"}),u("option",{value:3,children:"3"}),u("option",{value:2,children:"2"}),u("option",{value:1,children:"1"})]}),u("br",{}),"マクロ継続通知:"," ",u("input",{value:n,autocomplete:"off",onChange:r=>i(r.currentTarget.value)}),u("br",{}),u("button",{onClick:()=>_(ve(t,n)),children:"生成"})]}),o.map(r=>u(H,{children:[u("textarea",{readonly:!0,rows:15,cols:80,children:r.replace(/\n\n+/g,`
`).trim()}),u("br",{})]}))]})},Ge=()=>{const[t,e]=x((location.hash||"woth").replace(/^#/,""));return Be(()=>{const n=i=>e((location.hash||"woth").replace(/^#/,""));return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)}),u(H,{children:[u("h1",{children:"絶竜詩戦争: 練習マクロガチャ"}),u("p",{children:["練習したいフェーズを選択してください。邂逅編 4 などに突入して使える、練習用マクロを生成します。",u("br",{}),"生成ボタンを押すたびにマクロ中のランダム要素が入れ替わります。"]}),u("select",{value:t,onChange:n=>e(n.currentTarget.value),children:[u("option",{value:"woth",children:"至天の陣：風槍"}),u("option",{value:"doth",children:"至天の陣：死刻"})]}),t==="woth"&&u(Ve,{}),t==="doth"&&u(Ke,{})]})},ye=document.getElementById("app");ye&&We(u(Ge,{}),ye);
