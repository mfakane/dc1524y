(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const _ of r)if(_.type==="childList")for(const i of _.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const _={};return r.integrity&&(_.integrity=r.integrity),r.referrerPolicy&&(_.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?_.credentials="include":r.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function o(r){if(r.ep)return;r.ep=!0;const _=n(r);fetch(r.href,_)}})();var V,v,ge,H,re,$e,j,Z,K,G,M={},ke=[],Ee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ee=Array.isArray;function T(t,e){for(var n in e)t[n]=e[n];return t}function we(t){var e=t.parentNode;e&&e.removeChild(t)}function Ne(t,e,n){var o,r,_,i={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:i[_]=e[_];if(arguments.length>2&&(i.children=arguments.length>3?V.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)i[_]===void 0&&(i[_]=t.defaultProps[_]);return A(t,i,o,r,null)}function A(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++ge,__i:-1,__u:0};return r==null&&v.vnode!=null&&v.vnode(_),_}function S(t){return t.children}function U(t,e){this.props=t,this.context=e}function x(t,e){if(e==null)return t.__?x(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?x(t):null}function be(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return be(t)}}function oe(t){(!t.__d&&(t.__d=!0)&&H.push(t)&&!I.__r++||re!==v.debounceRendering)&&((re=v.debounceRendering)||$e)(I)}function I(){var t,e,n,o,r,_,i,s;for(H.sort(j);t=H.shift();)t.__d&&(e=H.length,o=void 0,_=(r=(n=t).__v).__e,i=[],s=[],n.__P&&((o=T({},r)).__v=r.__v+1,v.vnode&&v.vnode(o),te(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,i,_??x(r),!!(32&r.__u),s),o.__v=r.__v,o.__.__k[o.__i]=o,Ce(i,o,s),o.__e!=_&&be(o)),H.length>e&&H.sort(j));I.__r=0}function Pe(t,e,n,o,r,_,i,s,c,l,p){var a,d,u,g,b,$=o&&o.__k||ke,h=e.length;for(n.__d=c,Me(n,e,$),c=n.__d,a=0;a<h;a++)(u=n.__k[a])!=null&&typeof u!="boolean"&&typeof u!="function"&&(d=u.__i===-1?M:$[u.__i]||M,u.__i=a,te(t,u,d,r,_,i,s,c,l,p),g=u.__e,u.ref&&d.ref!=u.ref&&(d.ref&&ne(d.ref,null,u),p.push(u.ref,u.__c||g,u)),b==null&&g!=null&&(b=g),65536&u.__u||d.__k===u.__k?(c&&!c.isConnected&&(c=x(d)),c=Te(u,c,t)):typeof u.type=="function"&&u.__d!==void 0?c=u.__d:g&&(c=g.nextSibling),u.__d=void 0,u.__u&=-196609);n.__d=c,n.__e=b}function Me(t,e,n){var o,r,_,i,s,c=e.length,l=n.length,p=l,a=0;for(t.__k=[],o=0;o<c;o++)i=o+a,(r=t.__k[o]=(r=e[o])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?A(null,r,null,null,null):ee(r)?A(S,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?A(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=t,r.__b=t.__b+1,s=Le(r,n,i,p),r.__i=s,_=null,s!==-1&&(p--,(_=n[s])&&(_.__u|=131072)),_==null||_.__v===null?(s==-1&&a--,typeof r.type!="function"&&(r.__u|=65536)):s!==i&&(s===i+1?a++:s>i?p>c-i?a+=s-i:a--:s<i?s==i-1&&(a=s-i):a=0,s!==o+a&&(r.__u|=65536))):(_=n[i])&&_.key==null&&_.__e&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=x(_)),J(_,_,!1),n[i]=null,p--);if(p)for(o=0;o<l;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=x(_)),J(_,_))}function Te(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=Te(o[r],e,n));return e}t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Le(t,e,n,o){var r=t.key,_=t.type,i=n-1,s=n+1,c=e[n];if(c===null||c&&r==c.key&&_===c.type&&!(131072&c.__u))return n;if(o>(c!=null&&!(131072&c.__u)?1:0))for(;i>=0||s<e.length;){if(i>=0){if((c=e[i])&&!(131072&c.__u)&&r==c.key&&_===c.type)return i;i--}if(s<e.length){if((c=e[s])&&!(131072&c.__u)&&r==c.key&&_===c.type)return s;s++}}return-1}function ie(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Ee.test(e)?n:n+"px"}function O(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||ie(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||ie(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=Z,t.addEventListener(e,_?G:K,_)):t.removeEventListener(e,_?G:K,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Z++;else if(e.t<n.u)return;return n(v.event?v.event(e):e)}}}function te(t,e,n,o,r,_,i,s,c,l){var p,a,d,u,g,b,$,h,k,P,L,N,_e,F,z,w=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),_=[s=e.__e=n.__e]),(p=v.__b)&&p(e);e:if(typeof w=="function")try{if(h=e.props,k=(p=w.contextType)&&o[p.__c],P=p?k?k.props.value:p.__:o,n.__c?$=(a=e.__c=n.__c).__=a.__E:("prototype"in w&&w.prototype.render?e.__c=a=new w(h,P):(e.__c=a=new U(h,P),a.constructor=w,a.render=De),k&&k.sub(a),a.props=h,a.state||(a.state={}),a.context=P,a.__n=o,d=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),w.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=T({},a.__s)),T(a.__s,w.getDerivedStateFromProps(h,a.__s))),u=a.props,g=a.state,a.__v=e,d)w.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(w.getDerivedStateFromProps==null&&h!==u&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(h,P),!a.__e&&(a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(h,a.__s,P)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(a.props=h,a.state=a.__s,a.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(D){D&&(D.__=e)}),L=0;L<a._sb.length;L++)a.__h.push(a._sb[L]);a._sb=[],a.__h.length&&i.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(h,a.__s,P),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(u,g,b)})}if(a.context=P,a.props=h,a.__P=t,a.__e=!1,N=v.__r,_e=0,"prototype"in w&&w.prototype.render){for(a.state=a.__s,a.__d=!1,N&&N(e),p=a.render(a.props,a.state,a.context),F=0;F<a._sb.length;F++)a.__h.push(a._sb[F]);a._sb=[]}else do a.__d=!1,N&&N(e),p=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++_e<25);a.state=a.__s,a.getChildContext!=null&&(o=T(T({},o),a.getChildContext())),d||a.getSnapshotBeforeUpdate==null||(b=a.getSnapshotBeforeUpdate(u,g)),Pe(t,ee(z=p!=null&&p.type===S&&p.key==null?p.props.children:p)?z:[z],e,n,o,r,_,i,s,c,l),a.base=e.__e,e.__u&=-161,a.__h.length&&i.push(a),$&&(a.__E=a.__=null)}catch(D){e.__v=null,c||_!=null?(e.__e=s,e.__u|=c?160:32,_[_.indexOf(s)]=null):(e.__e=n.__e,e.__k=n.__k),v.__e(D,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Fe(n.__e,e,n,o,r,_,i,c,l);(p=v.diffed)&&p(e)}function Ce(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)ne(n[o],n[++o],n[++o]);v.__c&&v.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){v.__e(_,r.__v)}})}function Fe(t,e,n,o,r,_,i,s,c){var l,p,a,d,u,g,b,$=n.props,h=e.props,k=e.type;if(k==="svg"?r="http://www.w3.org/2000/svg":k==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(l=0;l<_.length;l++)if((u=_[l])&&"setAttribute"in u==!!k&&(k?u.localName===k:u.nodeType===3)){t=u,_[l]=null;break}}if(t==null){if(k===null)return document.createTextNode(h);t=document.createElementNS(r,k,h.is&&h),_=null,s=!1}if(k===null)$===h||s&&t.data===h||(t.data=h);else{if(_=_&&V.call(t.childNodes),$=n.props||M,!s&&_!=null)for($={},l=0;l<t.attributes.length;l++)$[(u=t.attributes[l]).name]=u.value;for(l in $)if(u=$[l],l!="children"){if(l=="dangerouslySetInnerHTML")a=u;else if(l!=="key"&&!(l in h)){if(l=="value"&&"defaultValue"in h||l=="checked"&&"defaultChecked"in h)continue;O(t,l,null,u,r)}}for(l in h)u=h[l],l=="children"?d=u:l=="dangerouslySetInnerHTML"?p=u:l=="value"?g=u:l=="checked"?b=u:l==="key"||s&&typeof u!="function"||$[l]===u||O(t,l,u,$[l],r);if(p)s||a&&(p.__html===a.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(a&&(t.innerHTML=""),Pe(t,ee(d)?d:[d],e,n,o,k==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,i,_?_[0]:n.__k&&x(n,0),s,c),_!=null)for(l=_.length;l--;)_[l]!=null&&we(_[l]);s||(l="value",g!==void 0&&(g!==t[l]||k==="progress"&&!g||k==="option"&&g!==$[l])&&O(t,l,g,$[l],r),l="checked",b!==void 0&&b!==t[l]&&O(t,l,b,$[l],r))}return t}function ne(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(o){v.__e(o,n)}}function J(t,e,n){var o,r;if(v.unmount&&v.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||ne(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){v.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&J(o[r],e,n||typeof t.type!="function");n||t.__e==null||we(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function De(t,e,n){return this.constructor(t,n)}function Oe(t,e,n){var o,r,_,i;v.__&&v.__(t,e),r=(o=typeof n=="function")?null:e.__k,_=[],i=[],te(e,t=(!o&&n||e).__k=Ne(S,null,[t]),r||M,M,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?V.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,i),Ce(_,t,i)}V=ke.slice,v={__e:function(t,e,n,o){for(var r,_,i;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),i=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),i=r.__d),i)return r.__E=r}catch(s){t=s}throw t}},ge=0,U.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=T({},this.state),typeof t=="function"&&(t=t(T({},n),this.props)),t&&T(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),oe(this))},U.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oe(this))},U.prototype.render=S,H=[],$e=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,j=function(t,e){return t.__v.__b-e.__v.__b},I.__r=0,Z=0,K=ae(!1),G=ae(!0);var B,m,R,le,Q=0,He=[],W=[],y=v,ce=y.__b,se=y.__r,ue=y.diffed,fe=y.__c,pe=y.unmount,de=y.__;function xe(t,e){y.__h&&y.__h(m,t,Q||e),Q=0;var n=m.__H||(m.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:W}),n.__[t]}function C(t){return Q=1,Ae(Se,t)}function Ae(t,e,n){var o=xe(B++,2);if(o.t=t,!o.__c&&(o.__=[Se(void 0,e),function(s){var c=o.__N?o.__N[0]:o.__[0],l=o.t(c,s);c!==l&&(o.__N=[l,o.__[1]],o.__c.setState({}))}],o.__c=m,!m.u)){var r=function(s,c,l){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(d){return!!d.__c});if(p.every(function(d){return!d.__N}))return!_||_.call(this,s,c,l);var a=!1;return p.forEach(function(d){if(d.__N){var u=d.__[0];d.__=d.__N,d.__N=void 0,u!==d.__[0]&&(a=!0)}}),!(!a&&o.__c.props===s)&&(!_||_.call(this,s,c,l))};m.u=!0;var _=m.shouldComponentUpdate,i=m.componentWillUpdate;m.componentWillUpdate=function(s,c,l){if(this.__e){var p=_;_=void 0,r(s,c,l),_=p}i&&i.call(this,s,c,l)},m.shouldComponentUpdate=r}return o.__N||o.__}function Ue(t,e){var n=xe(B++,3);!y.__s&&Ie(n.__H,e)&&(n.__=t,n.i=e,m.__H.__h.push(n))}function We(){for(var t;t=He.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(q),t.__H.__h.forEach(X),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){m=null,ce&&ce(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),de&&de(t,e)},y.__r=function(t){se&&se(t),B=0;var e=(m=t.__c).__H;e&&(R===m?(e.__h=[],m.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=W,n.__N=n.i=void 0})):(e.__h.forEach(q),e.__h.forEach(X),e.__h=[],B=0)),R=m},y.diffed=function(t){ue&&ue(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(He.push(e)!==1&&le===y.requestAnimationFrame||((le=y.requestAnimationFrame)||qe)(We)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==W&&(n.__=n.__V),n.i=void 0,n.__V=W})),R=m=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(q),n.__h=n.__h.filter(function(o){return!o.__||X(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),fe&&fe(t,e)},y.unmount=function(t){pe&&pe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{q(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var he=typeof requestAnimationFrame=="function";function qe(t){var e,n=function(){clearTimeout(o),he&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);he&&(e=requestAnimationFrame(n))}function q(t){var e=m,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),m=e}function X(t){var e=m;t.__c=t.__(),m=e}function Ie(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Se(t,e){return typeof e=="function"?e(t):e}class Y{constructor(e){this.patterns=e,this.remainingPatterns=[...e]}pop(){const e=Math.floor(Math.random()*this.remainingPatterns.length),n=this.remainingPatterns[e];return this.remainingPatterns.splice(e,1),n}push(e){this.remainingPatterns.push(e)}reset(){this.remainingPatterns=[...this.patterns]}}(t=>{function e(o){return new t(o).pop()}t.selectOne=e;function n(o,r){const _=new t(r);return[...Array(o)].map(i=>_.pop())}t.selectMany=n})(Y||(Y={}));const E=Y;var Be=0;function f(t,e,n,o,r,_){e||(e={});var i,s,c=e;if("ref"in c)for(s in c={},e)s=="ref"?i=e[s]:c[s]=e[s];var l={type:t,props:c,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Be,__i:-1,__u:0,__source:r,__self:_};if(typeof t=="function"&&(i=t.defaultProps))for(s in i)c[s]===void 0&&(c[s]=i[s]);return v.vnode&&v.vnode(l),l}const ve=(t,e)=>{const n=t===1?"/e":"/p",o=new E(["doom1","doom2","doom3","doom4",void 0,void 0,void 0,void 0]),r=[...Array(8)].map((l,p)=>({index:p,pronoun:`<${p+1}>`,doomTarget:o.pop()})),_=e==="marker"?["A","1","B","2","C","3","D","4"]:e==="compass"?["N","NE","E","SE","S","SW","W","NW"]:["北","北東","東","南東","南","南西","西","北西"],i=E.selectOne(_),s=_[(_.indexOf(i)+3+Math.floor(Math.random()*3))%_.length],c=(l,p,a)=>{const d=r.find(u=>u.doomTarget===l||u.doomTarget===l);return d&&d.index<t?p(d.pronoun):a??""};return[`
${n} 騎神トールダンは「至天の陣：死刻」の構え。<se.3> <wait.4>
${n} 騎神トールダンの「至天の陣：死刻」 <se.3> <wait.4>
${n} トールダン・邪眼配置 ${i}・${s} <se.4> <wait.3>
${c("doom1",l=>`/mk attack1 ${l}`)}
${c("doom2",l=>`/mk attack2 ${l}`)}
${c("doom3",l=>`/mk attack3 ${l}`)}
${c("doom4",l=>`/mk attack4 ${l} <wait.7>`,`${n} (死の宣告 デバフ付与) <wait.7>`)}
${n} 聖騎士ゲリックの「ヘヴィインパクト」 <se.3> <wait.2>
${n} ヴェズルフェルニルの「ツイスターダイブ」 <se.5> ヘヴィインパクト (2) <wait.2>
${n} ヘヴィインパクト (3) <se.3> <wait.2>
${n} ヘヴィインパクト (4) <se.3> <wait.4>
${n} 聖騎士シャリベルは「ヘヴンフレイム」を唱えた。 <se.5> <wait.5>
${n} 騎神トールダンの「竜の邪眼」 <se.4>
${n} 聖騎士グリノーの「フェイスアンムーブ」 <se.3> <wait.2>
${n} 聖騎士シャリベルの「ヘヴンフレイム」 <se.4>`.trim()]},Ve=()=>{const[t,e]=C(8),[n,o]=C("marker"),[r,_]=C("/e 次のマクロへ！ <se.7>"),[i,s]=C(ve(t,n));return f("form",{onSubmit:c=>c.preventDefault(),children:[f("p",{children:["練習人数:"," ",f("select",{value:t,onChange:c=>e(parseInt(c.currentTarget.value)),children:[f("option",{value:8,children:"8"}),f("option",{value:7,children:"7"}),f("option",{value:6,children:"6"}),f("option",{value:5,children:"5"}),f("option",{value:4,children:"4"}),f("option",{value:3,children:"3"}),f("option",{value:2,children:"2"}),f("option",{value:1,children:"1"})]}),f("br",{}),"方角の表記:"," ",f("select",{value:n,onChange:c=>o(c.currentTarget.value),children:[f("option",{value:"marker",children:"八方位マーカー"}),f("option",{value:"compass",children:"英頭文字"}),f("option",{value:"kanji",children:"漢字"})]}),f("br",{}),"マクロ継続通知:"," ",f("input",{value:r,autocomplete:"off",onChange:c=>_(c.currentTarget.value)}),f("br",{}),f("button",{onClick:()=>s(ve(t,n)),children:"生成"})]}),i.map(c=>f(S,{children:[f("textarea",{readonly:!0,rows:15,cols:80,children:c.replace(/\n\n+/g,`
`).trim()}),f("br",{})]}))]})},me=(t,e)=>{const n=t===1?"/e":"/p",o=new E(["skywardLeap","spiralPierce1","spiralPierce2","cauterize",void 0,void 0,void 0,void 0]),r=[...Array(8)].map((i,s)=>({index:s,pronoun:`<${s+1}>`,primaryTarget:o.pop(),secondaryTarget:void 0}));E.selectOne(r.filter(i=>i.primaryTarget)).secondaryTarget="altarFlare",E.selectOne(r.filter(i=>!i.primaryTarget)).secondaryTarget="liquidHeaven",E.selectMany(2,r.filter(i=>!i.secondaryTarget)).forEach((i,s)=>i.secondaryTarget=s===0?"thunderStruck1":"thunderStruck2");const _=(i,s,c)=>{const l=r.find(p=>p.primaryTarget===i||p.secondaryTarget===i);return l&&l.index<t?s(l.pronoun):c??""};return[`${n} 騎神トールダンは「至天の陣：風槍」の構え。<se.3> <wait.4>
${n} 騎神トールダンの「至天の陣：風槍」 <se.3> <wait.6>
${_("skywardLeap",i=>`/mk circle ${i}`,`${n} (スカイワードリープ マーカー付与)`)}
${_("spiralPierce1",i=>`/mk bind1 ${i}`)}
${_("spiralPierce2",i=>`/mk bind2 ${i} <wait.5>`,`${n} (スパイラルピアス マーカー付与) <wait.5>`)}
${_("thunderStruck1",i=>`/mk stop1 ${i}`)}
${_("thunderStruck2",i=>`/mk stop2 ${i} <wait.2>`,`${n} (サンダーウィング デバフ付与) <wait.2>`)}
/mk off <circle>
/mk off <bind1>
/mk off <bind2>
${_("cauterize",i=>`/mk triangle ${i}`)}
${n} ヴェズルフェルニルの「ツイスターダイブ」 <se.5> <wait.6>
/mk off <triangle>
${n} 騎神トールダンの「レベレーション・アスカロンメルシー」 <se.4>
${e}`,`${_("liquidHeaven",i=>`/mk attack4 ${i}`)}
${_("altarFlare",i=>`/mk attack3 ${i}`)}
${n} ヘヴンリキッド (1), アルターフレア (1) <se.3> <wait.1>
${_("liquidHeaven",i=>`/mk attack3 ${i}`)}
${_("altarFlare",i=>`/mk attack2 ${i}`)}
${n} ヘヴンリキッド (2), アルターフレア (2) <se.3> <wait.1>
${_("liquidHeaven",i=>`/mk attack2 ${i}`)}
${_("altarFlare",i=>`/mk attack1 ${i}`)}
${n} ヘヴンリキッド (3), アルターフレア (3) <se.3> <wait.1>
${_("liquidHeaven",i=>`/mk attack1 ${i}`)}
${_("altarFlare",i=>`/mk off ${i}`)}
${n} ヘヴンリキッド (4), アルターフレア (4) <se.3> <wait.1>
${_("liquidHeaven",i=>`/mk off ${i}`)}
${n} ヘヴンリキッド (5) <se.3> <wait.1>
${n} 聖騎士グリノーの「エンプティディメンション」 <se.4>`]},ze=()=>{const[t,e]=C(8),[n,o]=C("/e 次のマクロへ！ <se.7>"),[r,_]=C(me(t,n));return f("form",{onSubmit:i=>i.preventDefault(),children:[f("p",{children:["練習人数:"," ",f("select",{value:t,onChange:i=>e(parseInt(i.currentTarget.value)),children:[f("option",{value:8,children:"8"}),f("option",{value:7,children:"7"}),f("option",{value:6,children:"6"}),f("option",{value:5,children:"5"}),f("option",{value:4,children:"4"}),f("option",{value:3,children:"3"}),f("option",{value:2,children:"2"}),f("option",{value:1,children:"1"})]}),f("br",{}),"マクロ継続通知:"," ",f("input",{value:n,autocomplete:"off",onChange:i=>o(i.currentTarget.value)}),f("br",{}),f("button",{onClick:()=>_(me(t,n)),children:"生成"})]}),r.map(i=>f(S,{children:[f("textarea",{readonly:!0,rows:15,cols:80,children:i.replace(/\n\n+/g,`
`).trim()}),f("br",{})]}))]})},Re=()=>{const[t,e]=C((location.hash||"woth").replace(/^#/,""));return Ue(()=>{const n=o=>e((location.hash||"woth").replace(/^#/,""));return window.addEventListener("hashchange",n),()=>window.removeEventListener("hashchange",n)}),f(S,{children:[f("h1",{children:"絶竜詩戦争: 練習マクロガチャ"}),f("p",{children:["練習したいフェーズを選択してください。邂逅編 4 などに突入して使える、練習用マクロを生成します。",f("br",{}),"生成ボタンを押すたびにマクロ中のランダム要素が入れ替わります。"]}),f("select",{value:t,onChange:n=>e(n.currentTarget.value),children:[f("option",{value:"woth",children:"至天の陣：風槍"}),f("option",{value:"doth",children:"至天の陣：死刻"})]}),t==="woth"&&f(ze,{}),t==="doth"&&f(Ve,{})]})},ye=document.getElementById("app");ye&&Oe(f(Re,{}),ye);
